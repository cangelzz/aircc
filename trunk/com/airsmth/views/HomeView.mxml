<?xml version="1.0" encoding="utf-8"?>
<s:View xmlns:fx="http://ns.adobe.com/mxml/2009" 
    xmlns:s="library://ns.adobe.com/flex/spark"
    creationComplete="init()">

    <s:layout>
        <s:VerticalLayout paddingTop="5"/>
    </s:layout>

    <fx:Script>
        <![CDATA[
            import com.airsmth.defines.*;
            import com.airsmth.views.*;
            import mx.collections.ArrayCollection;
            import mx.core.ClassFactory;
            import spark.components.Label;
            
            protected function init():void {
                lbWelcome.text = "欢迎回来 " + parentApplication.globalSMTH.config.id;
            }
            
            protected function go():void {
                var obj:Object = sectionList.selectedItem;
                switch (obj.id) {
                    case "bTop":
                        ;
                        break;
                    case "bFav":
                        navigator.pushView(BoardView, parentApplication.globalSMTH.acFavor);
                        break;
                    case "bMail":
                        navigator.pushView(MailFolderView);
                        break;
                    case "bConfig":
                        navigator.pushView(LoginView, "reset");
                        break;
                }
            }
            
        ]]>
    </fx:Script>
    <s:titleContent>
        <s:Label id="lbWelcome" width="100%" textAlign="center" color="0xFFFFFF"/>
    </s:titleContent>
    <s:List width="100%" itemRenderer="com.airsmth.renders.HomeListRenderer" height="100%" id="sectionList"
        click="go()">
        <s:dataProvider>
            <s:ArrayCollection>
                <fx:Object id="bTop" label="十大" icon="@Embed(source='../../../assets/star.png')" />
                <fx:Object id="bFav" label="个人收藏夹" icon="@Embed(source='../../../assets/heart.png')" />
                <fx:Object id="bMail" label="信箱" icon="@Embed(source='../../../assets/mail_white.png')" />
                <fx:Object id="bConfig" label="设置" icon="@Embed(source='../../../assets/config.png')" />
            </s:ArrayCollection>
        </s:dataProvider>
    </s:List>
</s:View>